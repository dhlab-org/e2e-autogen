# E2E Autogen

Google ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ê¸°ë°˜ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ Playwright í…ŒìŠ¤íŠ¸ **ìŠ¤í… ì½”ë“œ**ë¡œ ìë™ ìƒì„±í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

- ğŸ“Š **JSON ì‹œë‚˜ë¦¬ì˜¤ íŒŒì‹±**: êµ¬ì¡°í™”ëœ JSON ì‹œë‚˜ë¦¬ì˜¤ íŒŒì¼ì„ ì½ì–´ë“¤ì…ë‹ˆë‹¤
- ğŸ”§ **JSON ìµœì í™”**: ì›ë³¸ JSONì„ í”„ë¡œì íŠ¸ í˜•ì‹ì— ë§ê²Œ ìë™ ë³€í™˜í•©ë‹ˆë‹¤
- ğŸ§ª **Playwright í…ŒìŠ¤íŠ¸ í‹€ ìƒì„±**: ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ í‹€(ìŠ¤í…)ì„ ìƒì„±í•©ë‹ˆë‹¤
- ğŸ“ **ì¼ê´„ ì²˜ë¦¬**: ì—¬ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ íŒŒì¼ì„ í•œ ë²ˆì— ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

> ğŸ’¡ **ìŠ¤í… ì½”ë“œ(Stub Code)ë€?**  
> ì‹¤ì œ êµ¬í˜„ ë¡œì§ì€ ì—†ì§€ë§Œ ê¸°ë³¸ êµ¬ì¡°ì™€ ê°€ì´ë“œ ì£¼ì„ì´ í¬í•¨ëœ ì½”ë“œ í‹€ì…ë‹ˆë‹¤.  
> ê°œë°œìëŠ” ìƒì„±ëœ í‹€ì— ì‹¤ì œ í…ŒìŠ¤íŠ¸ ë¡œì§ë§Œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

## ì„¤ì¹˜

```bash
yarn install
```

## Google Spreadsheetì—ì„œ JSON ë³€í™˜í•˜ê¸°

### 1. Google Sheets í™•ì¥ í”„ë¡œê·¸ë¨ ì„¤ì¹˜

[Sheets to JSON](https://workspace.google.com/marketplace/app/sheets_to_json/984948857234) í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

### 2. ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë°ì´í„° êµ¬ì¡°

ìŠ¤í”„ë ˆë“œì‹œíŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì»¬ëŸ¼ êµ¬ì¡°ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤:

| A (screenId) | B (group)   | C (testId) | D (path)             | E (description)   | F (when)       | G (then)              |
| ------------ | ----------- | ---------- | -------------------- | ----------------- | -------------- | --------------------- |
| login-001    | ë¡œê·¸ì¸ ì‹¤íŒ¨ | 1          | ë¡œê·¸ì¸ > ë¡œê·¸ì¸ ë²„íŠ¼ | Modal ì¶œë ¥ í…ŒìŠ¤íŠ¸ | ëª¨ë‹¬ ë‚´ìš© í™•ì¸ | ë¡œê·¸ì¸ ì‹¤íŒ¨ ë¬¸êµ¬ í‘œì‹œ |
|              |             | 2          | ë¡œê·¸ì¸ > ì·¨ì†Œ ë²„íŠ¼   | Modal ë‹«ê¸° í…ŒìŠ¤íŠ¸ | ë‹«ê¸° ë²„íŠ¼ í´ë¦­ | Modalì´ ë‹«íŒë‹¤        |

### 3. JSON ë³€í™˜ ì„¤ì •

1. **Extensions** â†’ **Export Sheet Data** â†’ **Open Sidebar** í´ë¦­
2. **Format** íƒ­ì—ì„œ **Custom** ì„ íƒ
3. ë‹¤ìŒ í…œí”Œë¦¿ì„ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê¸°:

```json
{
  "screenId": "<<Col[0]>>",
  "group": "<<Col[1]>>",
  "testId": "<<Col[2]>>",
  "path": "<<Col[3]>>",
  "description": "<<Col[4]>>",
  "given": "<<Col[3]>>",
  "when": "<<Col[5]>>",
  "then": "<<Col[6]>>"
}
```

4. **Export** ë²„íŠ¼ í´ë¦­í•˜ì—¬ JSON ìƒì„±
5. ìƒì„±ëœ JSONì„ ë³µì‚¬í•˜ì—¬ `scenarios/{sheet-id}.json` íŒŒì¼ì— ì €ì¥

### 4. ì‹œë‚˜ë¦¬ì˜¤ íŒŒì¼ ìƒì„±

- íŒŒì¼ëª…ì€ ì‹œíŠ¸ IDì™€ ë™ì¼í•˜ê²Œ ì„¤ì • (ì˜ˆ: `login.json`, `saved-record.json`)
- `scenarios/` í´ë”ì— ì €ì¥

## ì‚¬ìš©ë²•

### 1. JSON ìµœì í™”

ì›ë³¸ JSON íŒŒì¼ì„ í”„ë¡œì íŠ¸ í˜•ì‹ì— ë§ê²Œ ë³€í™˜í•©ë‹ˆë‹¤:

```bash
# ëª¨ë“  JSON íŒŒì¼ ìµœì í™”
yarn optimize

# íŠ¹ì • íŒŒì¼ ìµœì í™”
yarn optimize scenarios/saved-record.json

# ì¶œë ¥ íŒŒì¼ ì§€ì •
yarn optimize scenarios/saved-record.json scenarios/optimized-record.json
```

### 2. í…ŒìŠ¤íŠ¸ ì½”ë“œ í‹€ ìƒì„±

#### ê¸°ë³¸ ìƒì„±

```bash
# ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ íŒŒì¼ì„ í…ŒìŠ¤íŠ¸ í‹€ë¡œ ë³€í™˜
yarn generate

# íŠ¹ì • íŒŒì¼ì„ í…ŒìŠ¤íŠ¸ í‹€ë¡œ ë³€í™˜
yarn generate scenarios/saved-record.json

# ì¶œë ¥ ë””ë ‰í† ë¦¬ ì§€ì •
yarn generate scenarios/saved-record.json ./custom-tests
```

#### ìµœì í™”ì™€ í•¨ê»˜ ìƒì„±

```bash
# ì›ë³¸ JSONì„ ìµœì í™”í•˜ë©´ì„œ í…ŒìŠ¤íŠ¸ í‹€ ìƒì„±
yarn generate --optimize

# íŠ¹ì • íŒŒì¼ì„ ìµœì í™”í•˜ë©´ì„œ í…ŒìŠ¤íŠ¸ í‹€ ìƒì„±
yarn generate scenarios/saved-record.json --optimize
```

## ìƒì„±ëœ íŒŒì¼ êµ¬ì¡°

```
__generated__/
â”œâ”€â”€ optimized-json/           # ìµœì í™”ëœ JSON íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ login.optimized.json
â”‚   â””â”€â”€ saved-record.optimized.json
â””â”€â”€ playwright/              # ìƒì„±ëœ í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤
    â”œâ”€â”€ login/
    â”‚   â””â”€â”€ SIGN_IN_001.spec.ts
    â””â”€â”€ saved-record/
        â””â”€â”€ SAVE_REC_001.spec.ts
```

## JSON íŒŒì¼ êµ¬ì¡°

### ì›ë³¸ JSON í˜•ì‹ (Google Sheets ë³€í™˜ ê²°ê³¼)

```json
[
  {
    "screenId": "login-001",
    "group": "ê¸°ë³¸ ë¡œê·¸ì¸",
    "testId": "1",
    "path": "/login",
    "description": "ì •ìƒ ë¡œê·¸ì¸",
    "given": "/login",
    "when": "ì˜¬ë°”ë¥¸ ê³„ì • ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´",
    "then": "ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤"
  },
  {
    "screenId": "",
    "group": "",
    "testId": "2",
    "path": "",
    "description": "ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸",
    "given": "",
    "when": "ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´",
    "then": "ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤"
  }
]
```

### ìµœì í™”ëœ JSON í˜•ì‹

```json
[
  {
    "sheetId": "login",
    "screenId": "login-001",
    "group": "ê¸°ë³¸ ë¡œê·¸ì¸",
    "tests": [
      {
        "testId": "001",
        "path": "/login",
        "description": "ì •ìƒ ë¡œê·¸ì¸",
        "given": "/login",
        "when": "ì˜¬ë°”ë¥¸ ê³„ì • ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´",
        "then": "ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤"
      },
      {
        "testId": "002",
        "path": "/login",
        "description": "ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸",
        "given": "/login",
        "when": "ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´",
        "then": "ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤"
      }
    ]
  }
]
```

## JSON ìµœì í™” ê¸°ëŠ¥

JsonOptimizerëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë³€í™˜ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

1. **ë¹ˆ í•„ë“œ ì±„ìš°ê¸°**: `screenId`, `group`, `path` ë“±ì˜ ë¹ˆ í•„ë“œë¥¼ ì´ì „ ê°’ìœ¼ë¡œ ìë™ ì±„ì›ë‹ˆë‹¤
2. **testId ë³€í™˜**: "1" â†’ "001" í˜•ì‹ìœ¼ë¡œ 3ìë¦¬ ìˆ«ìë¡œ ë³€í™˜í•©ë‹ˆë‹¤
3. **sheetId ì„¤ì •**: íŒŒì¼ëª…ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ ì„¤ì •í•©ë‹ˆë‹¤
4. **ë°ì´í„° ê·¸ë£¹í™”**: `sheetId` â†’ `screenId` â†’ `group` â†’ `tests` êµ¬ì¡°ë¡œ ì¬êµ¬ì„±í•©ë‹ˆë‹¤
5. **ìœ íš¨ì„± ê²€ì‚¬**: í•„ìˆ˜ í•„ë“œ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
e2e-autogen/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ index.ts          # ë©”ì¸ ì§„ì…ì 
â”‚   â”œâ”€â”€ optimizer.ts      # JSON ìµœì í™” í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ parser.ts         # ì‹œë‚˜ë¦¬ì˜¤ íŒŒì‹± í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ generator.ts      # í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒì„± í´ë˜ìŠ¤
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts      # íƒ€ì… ì •ì˜
â”œâ”€â”€ scenarios/            # ì‹œë‚˜ë¦¬ì˜¤ JSON íŒŒì¼ë“¤
â”œâ”€â”€ __generated__/        # ìë™ ìƒì„±ëœ íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ optimized-json/   # ìµœì í™”ëœ JSON
â”‚   â””â”€â”€ playwright/       # í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤
â””â”€â”€ package.json
```

## ê°œë°œ

```bash
# ê°œë°œ ëª¨ë“œ ì‹¤í–‰
yarn dev

# ë¹Œë“œ
yarn build

# ë¹Œë“œëœ íŒŒì¼ ì‹¤í–‰
yarn start
```

## ë¼ì´ì„ ìŠ¤

MIT
